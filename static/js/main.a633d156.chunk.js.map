{"version":3,"sources":["Square.js","Control.js","Board.js","Game.js","index.js"],"names":["Square","className","onClick","this","props","s","index","React","Component","Control","isClockwise","Board","state","squares","cursor","countHold","countA","countB","nextIsA","i","setState","setCursor","time","setTimeout","c","slice","count","moveCursor","console","log","dropOne","isStopped","isTakable","takeAll","togglePlayer","pickAll","cnt","moveValid","color","handleClick","d","toggleDirection","player","Container","rowSpan","renderSquare","renderControl","Game","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a633d156.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass Square extends React.Component {\r\n  render() {\r\n    return <button className=\"square\" onClick={this.props.onClick}>{this.props.s[this.props.index]}</button>;\r\n  }\r\n}\r\n\r\nexport default Square;\r\n","import React from \"react\";\r\n\r\nclass Control extends React.Component {\r\n  render() {\r\n    return <button className=\"control\" onClick={this.props.onClick}>{this.props.isClockwise ? 'Clockwise' : 'Counter-clockwise'}</button>;\r\n  }\r\n}\r\n\r\nexport default Control;","import React from \"react\";\r\nimport Square from \"./Square\";\r\nimport Control from \"./Control\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nclass Board extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      squares: [10, 5, 5, 5, 5, 5, 10, 5, 5, 5, 5, 5],\r\n      isClockwise: true,\r\n      cursor: 0,\r\n      countHold: 0,\r\n      countA: 0,\r\n      countB: 0,\r\n      nextIsA: true,\r\n    };\r\n  }\r\n\r\n  setCursor(i) {\r\n    this.setState({\r\n      cursor: i,\r\n    });\r\n  }\r\n\r\n  moveCursor() {\r\n    const i = this.state.cursor;\r\n    if (this.state.isClockwise && i !== 11) {\r\n      this.setCursor(i + 1);\r\n    } else if (!this.state.isClockwise && i !== 0) {\r\n      this.setCursor(i - 1);\r\n    } else if (this.state.isClockwise && i === 11) {\r\n      this.setCursor(0);\r\n    } else if (!this.state.isClockwise && i === 0) {\r\n      this.setCursor(11);\r\n    }\r\n  }\r\n\r\n  dropOne(time) {\r\n    setTimeout(() => {\r\n      const c = this.state.squares.slice();\r\n      const count = this.state.countHold;\r\n      c[this.state.cursor]++;\r\n      this.setState({\r\n        squares: c,\r\n        countHold: count - 1,\r\n      });\r\n      this.moveCursor();\r\n      console.log(\r\n        \"Hold: \" + this.state.countHold + \" Loc: \" + this.state.cursor\r\n      );\r\n      if (this.state.countHold > 0) {\r\n        this.dropOne(time);\r\n      } else if (this.state.countHold === 0 && !this.isStopped()) {\r\n        console.log(\"Pickall\");\r\n        this.pickAll(time);\r\n      } else if (this.state.countHold === 0 && this.isStopped()) {\r\n        while (this.isTakable()) {\r\n          console.log(\"Test: \" + this.state.cursor);\r\n          this.takeAll();\r\n          this.moveCursor();\r\n        }\r\n        this.togglePlayer();\r\n      }\r\n    }, time);\r\n  }\r\n\r\n  takeAll() {\r\n    const c = this.state.squares.slice();\r\n    const index = this.state.cursor;\r\n    const cnt = c[index];\r\n    c[index] = 0;\r\n    if (this.state.nextIsA) {\r\n      this.setState({\r\n        squares: c,\r\n        countB: this.state.countB + cnt,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        countA: this.state.countA + cnt,\r\n        squares: c,\r\n      });\r\n    }\r\n  }\r\n\r\n  pickAll(time) {\r\n    setTimeout(() => {\r\n      const c = this.state.squares.slice();\r\n      const count = c[this.state.cursor];\r\n      c[this.state.cursor] = 0;\r\n      this.setState({\r\n        squares: c,\r\n        countHold: count,\r\n      });\r\n      this.moveCursor();\r\n      this.dropOne(time);\r\n    }, time);\r\n  }\r\n\r\n  isStopped() {\r\n    const c = this.state.squares.slice();\r\n    const i = this.state.cursor;\r\n    if (this.state.isClockwise && (c[i] === 0 || (i === 11 && c[0] === 0))) {\r\n      return true;\r\n    } else if (\r\n      !this.state.isClockwise &&\r\n      (c[i] == 0 || (i == 0 && c[11] == 0))\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isTakable() {\r\n    const c = this.state.squares.slice();\r\n    const i = this.state.cursor;\r\n    if (\r\n      (this.state.isClockwise &&\r\n        c[i] == 0 &&\r\n        ((i != 11 && c[i + 1] > 0) || (i == 11 && c[1] > 0))) ||\r\n      (!this.state.isClockwise &&\r\n        c[i] == 0 &&\r\n        ((i != 0 && c[i - 1] > 0) || (i == 0 && c[10] > 0)))\r\n    ) {\r\n      this.moveCursor();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  moveValid(i) {\r\n    const c = this.state.squares.slice();\r\n    if (i !== 0 && i !== 6 && c[i] > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  handleClick(i) {\r\n    if (this.moveValid(i)) {\r\n      this.setCursor(i);\r\n      this.pickAll(500);\r\n    }\r\n  }\r\n\r\n  togglePlayer() {\r\n    this.setState({\r\n      nextIsA: !this.state.nextIsA,\r\n    });\r\n  }\r\n\r\n  toggleDirection() {\r\n    this.setState({\r\n      isClockwise: !this.state.isClockwise,\r\n    });\r\n  }\r\n\r\n  renderSquare(i, c, color) {\r\n    return <Square index={i} s={c} color={color} onClick={() => this.handleClick(i)} />;\r\n  }\r\n  renderControl(d) {\r\n    return <Control isClockwise={d} onClick={() => this.toggleDirection()} />;\r\n  }\r\n\r\n  render() {\r\n    const status = \"Next player: X\";\r\n    const player = 'bg-success';\r\n    const none = '';\r\n    return (\r\n      <div>\r\n        <Container className='d-flex justify-content-center'>\r\n        <table>\r\n          <tr>\r\n            <td className='bg-secondary' rowSpan=\"2\">{this.renderSquare(0, this.state.squares,none)}</td>\r\n            <td className='bg-warning'>{this.renderSquare(1, this.state.squares,none)}</td>\r\n            <td className='bg-warning'>{this.renderSquare(2, this.state.squares,none)}</td>\r\n            <td className='bg-warning'>{this.renderSquare(3, this.state.squares,none)}</td>\r\n            <td className='bg-warning'>{this.renderSquare(4, this.state.squares,none)}</td>\r\n            <td className='bg-warning'>{this.renderSquare(5, this.state.squares,none)}</td>\r\n            <td className='bg-secondary' rowSpan=\"2\">{this.renderSquare(6, this.state.squares,none)}</td>\r\n          </tr>\r\n          <tr className='bg-success'>\r\n            <td>{this.renderSquare(11, this.state.squares,player)}</td>\r\n            <td>{this.renderSquare(10, this.state.squares,player)}</td>\r\n            <td>{this.renderSquare(9, this.state.squares,player)}</td>\r\n            <td>{this.renderSquare(8, this.state.squares,player)}</td>\r\n            <td>{this.renderSquare(7, this.state.squares,player)}</td>\r\n          </tr>\r\n        </table>\r\n        </Container>\r\n\r\n        <Container className='d-flex justify-content-center m-3'>{this.renderControl(this.state.isClockwise)}</Container>\r\n        <Container className='d-flex justify-content-center m-3 bg-light'>\r\n          <h3 className='text-warning m-3'>Computer: {this.state.countA}</h3>\r\n          <h3 className='text-success m-3'>You: {this.state.countB}</h3>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;\r\n","import React from \"react\";\r\nimport Board from './Board';\r\nimport Container from 'react-bootstrap/Container';\r\n\r\nfunction Game() {\r\n  return <Container className='mt-5'>\r\n      <Board/>\r\n    </Container>;\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './std.css';\r\nimport Game from './Game';\r\n\r\n\r\nReactDOM.render(<Game />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}
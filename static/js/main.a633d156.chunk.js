(this["webpackJsonpmandarin-quare"]=this["webpackJsonpmandarin-quare"]||[]).push([[0],{10:function(e,t,s){e.exports=s(16)},15:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),n=s(7),i=s.n(n),c=(s(15),s(1)),o=s(2),u=s(4),l=s(3),h=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return r.a.createElement("button",{className:"square",onClick:this.props.onClick},this.props.s[this.props.index])}}]),s}(r.a.Component),m=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return r.a.createElement("button",{className:"control",onClick:this.props.onClick},this.props.isClockwise?"Clockwise":"Counter-clockwise")}}]),s}(r.a.Component),d=s(5),k=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={squares:[10,5,5,5,5,5,10,5,5,5,5,5],isClockwise:!0,cursor:0,countHold:0,countA:0,countB:0,nextIsA:!0},a}return Object(o.a)(s,[{key:"setCursor",value:function(e){this.setState({cursor:e})}},{key:"moveCursor",value:function(){var e=this.state.cursor;this.state.isClockwise&&11!==e?this.setCursor(e+1):this.state.isClockwise||0===e?this.state.isClockwise&&11===e?this.setCursor(0):this.state.isClockwise||0!==e||this.setCursor(11):this.setCursor(e-1)}},{key:"dropOne",value:function(e){var t=this;setTimeout((function(){var s=t.state.squares.slice(),a=t.state.countHold;if(s[t.state.cursor]++,t.setState({squares:s,countHold:a-1}),t.moveCursor(),console.log("Hold: "+t.state.countHold+" Loc: "+t.state.cursor),t.state.countHold>0)t.dropOne(e);else if(0!==t.state.countHold||t.isStopped()){if(0===t.state.countHold&&t.isStopped()){for(;t.isTakable();)console.log("Test: "+t.state.cursor),t.takeAll(),t.moveCursor();t.togglePlayer()}}else console.log("Pickall"),t.pickAll(e)}),e)}},{key:"takeAll",value:function(){var e=this.state.squares.slice(),t=this.state.cursor,s=e[t];e[t]=0,this.state.nextIsA?this.setState({squares:e,countB:this.state.countB+s}):this.setState({countA:this.state.countA+s,squares:e})}},{key:"pickAll",value:function(e){var t=this;setTimeout((function(){var s=t.state.squares.slice(),a=s[t.state.cursor];s[t.state.cursor]=0,t.setState({squares:s,countHold:a}),t.moveCursor(),t.dropOne(e)}),e)}},{key:"isStopped",value:function(){var e=this.state.squares.slice(),t=this.state.cursor;return!(!this.state.isClockwise||0!==e[t]&&(11!==t||0!==e[0]))||!this.state.isClockwise&&(0==e[t]||0==t&&0==e[11])}},{key:"isTakable",value:function(){var e=this.state.squares.slice(),t=this.state.cursor;return!!(this.state.isClockwise&&0==e[t]&&(11!=t&&e[t+1]>0||11==t&&e[1]>0)||!this.state.isClockwise&&0==e[t]&&(0!=t&&e[t-1]>0||0==t&&e[10]>0))&&(this.moveCursor(),!0)}},{key:"moveValid",value:function(e){var t=this.state.squares.slice();return 0!==e&&6!==e&&t[e]>0}},{key:"handleClick",value:function(e){this.moveValid(e)&&(this.setCursor(e),this.pickAll(500))}},{key:"togglePlayer",value:function(){this.setState({nextIsA:!this.state.nextIsA})}},{key:"toggleDirection",value:function(){this.setState({isClockwise:!this.state.isClockwise})}},{key:"renderSquare",value:function(e,t,s){var a=this;return r.a.createElement(h,{index:e,s:t,color:s,onClick:function(){return a.handleClick(e)}})}},{key:"renderControl",value:function(e){var t=this;return r.a.createElement(m,{isClockwise:e,onClick:function(){return t.toggleDirection()}})}},{key:"render",value:function(){var e="bg-success";return r.a.createElement("div",null,r.a.createElement(d.a,{className:"d-flex justify-content-center"},r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"bg-secondary",rowSpan:"2"},this.renderSquare(0,this.state.squares,"")),r.a.createElement("td",{className:"bg-warning"},this.renderSquare(1,this.state.squares,"")),r.a.createElement("td",{className:"bg-warning"},this.renderSquare(2,this.state.squares,"")),r.a.createElement("td",{className:"bg-warning"},this.renderSquare(3,this.state.squares,"")),r.a.createElement("td",{className:"bg-warning"},this.renderSquare(4,this.state.squares,"")),r.a.createElement("td",{className:"bg-warning"},this.renderSquare(5,this.state.squares,"")),r.a.createElement("td",{className:"bg-secondary",rowSpan:"2"},this.renderSquare(6,this.state.squares,""))),r.a.createElement("tr",{className:"bg-success"},r.a.createElement("td",null,this.renderSquare(11,this.state.squares,e)),r.a.createElement("td",null,this.renderSquare(10,this.state.squares,e)),r.a.createElement("td",null,this.renderSquare(9,this.state.squares,e)),r.a.createElement("td",null,this.renderSquare(8,this.state.squares,e)),r.a.createElement("td",null,this.renderSquare(7,this.state.squares,e))))),r.a.createElement(d.a,{className:"d-flex justify-content-center m-3"},this.renderControl(this.state.isClockwise)),r.a.createElement(d.a,{className:"d-flex justify-content-center m-3 bg-light"},r.a.createElement("h3",{className:"text-warning m-3"},"Computer: ",this.state.countA),r.a.createElement("h3",{className:"text-success m-3"},"You: ",this.state.countB)))}}]),s}(r.a.Component);var v=function(){return r.a.createElement(d.a,{className:"mt-5"},r.a.createElement(k,null))};i.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.a633d156.chunk.js.map
(this["webpackJsonpmandarin-quare"]=this["webpackJsonpmandarin-quare"]||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s.n(r),n=s(6),i=s.n(n),u=(s(12),s(1)),o=s(2),l=s(4),c=s(3),h=function(e){Object(l.a)(s,e);var t=Object(c.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return a.a.createElement("button",{className:"square",onClick:this.props.onClick},this.props.s[this.props.index])}}]),s}(a.a.Component),d=function(e){Object(l.a)(s,e);var t=Object(c.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return a.a.createElement("button",{className:"control",onClick:this.props.onClick},this.props.isClockwise?"Clockwise":"Counter-clockwise")}}]),s}(a.a.Component),k=function(e){Object(l.a)(s,e);var t=Object(c.a)(s);function s(e){var r;return Object(u.a)(this,s),(r=t.call(this,e)).state={squares:[10,5,5,5,5,5,10,5,5,5,5,5],isClockwise:!0,cursor:0,countHold:0,countA:0,countB:0,nextIsA:!0},r}return Object(o.a)(s,[{key:"setCursor",value:function(e){this.setState({cursor:e})}},{key:"moveCursor",value:function(){var e=this.state.cursor;this.state.isClockwise&&11!==e?this.setCursor(e+1):this.state.isClockwise||0===e?this.state.isClockwise&&11===e?this.setCursor(0):this.state.isClockwise||0!==e||this.setCursor(11):this.setCursor(e-1)}},{key:"dropOne",value:function(e){var t=this;setTimeout((function(){var s=t.state.squares.slice(),r=t.state.countHold;if(s[t.state.cursor]++,t.setState({squares:s,countHold:r-1}),t.moveCursor(),console.log("Hold: "+t.state.countHold+" Loc: "+t.state.cursor),t.state.countHold>0)t.dropOne(e);else if(0!==t.state.countHold||t.isStopped()){if(0===t.state.countHold&&t.isStopped()){for(;t.isTakable();)console.log("Test: "+t.state.cursor),t.takeAll(),t.moveCursor();t.togglePlayer()}}else console.log("Pickall"),t.pickAll(e)}),e)}},{key:"takeAll",value:function(){var e=this.state.squares.slice(),t=this.state.cursor,s=e[t];e[t]=0,this.state.nextIsA?this.setState({squares:e,countB:this.state.countB+s}):this.setState({countA:this.state.countA+s,squares:e})}},{key:"pickAll",value:function(e){var t=this;setTimeout((function(){var s=t.state.squares.slice(),r=s[t.state.cursor];s[t.state.cursor]=0,t.setState({squares:s,countHold:r}),t.moveCursor(),t.dropOne(e)}),e)}},{key:"isStopped",value:function(){var e=this.state.squares.slice(),t=this.state.cursor;return!(!this.state.isClockwise||0!==e[t]&&(11!==t||0!==e[0]))||!this.state.isClockwise&&(0==e[t]||0==t&&0==e[11])}},{key:"isTakable",value:function(){var e=this.state.squares.slice(),t=this.state.cursor;return!!(this.state.isClockwise&&0==e[t]&&(11!=t&&e[t+1]>0||11==t&&e[1]>0)||!this.state.isClockwise&&0==e[t]&&(0!=t&&e[t-1]>0||0==t&&e[10]>0))&&(this.moveCursor(),!0)}},{key:"moveValid",value:function(e){var t=this.state.squares.slice();return 0!==e&&6!==e&&t[e]>0}},{key:"handleClick",value:function(e){this.moveValid(e)&&(this.setCursor(e),this.pickAll(500))}},{key:"togglePlayer",value:function(){this.setState({nextIsA:!this.state.nextIsA})}},{key:"toggleDirection",value:function(){this.setState({isClockwise:!this.state.isClockwise})}},{key:"renderSquare",value:function(e,t){var s=this;return a.a.createElement(h,{index:e,s:t,onClick:function(){return s.handleClick(e)}})}},{key:"renderControl",value:function(e){var t=this;return a.a.createElement(d,{isClockwise:e,onClick:function(){return t.toggleDirection()}})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("table",null,a.a.createElement("tr",null,a.a.createElement("td",{rowSpan:"2"},this.renderSquare(0,this.state.squares)),a.a.createElement("td",null,this.renderSquare(1,this.state.squares)),a.a.createElement("td",null,this.renderSquare(2,this.state.squares)),a.a.createElement("td",null,this.renderSquare(3,this.state.squares)),a.a.createElement("td",null,this.renderSquare(4,this.state.squares)),a.a.createElement("td",null,this.renderSquare(5,this.state.squares)),a.a.createElement("td",{rowSpan:"2"},this.renderSquare(6,this.state.squares))),a.a.createElement("tr",null,a.a.createElement("td",null,this.renderSquare(11,this.state.squares)),a.a.createElement("td",null,this.renderSquare(10,this.state.squares)),a.a.createElement("td",null,this.renderSquare(9,this.state.squares)),a.a.createElement("td",null,this.renderSquare(8,this.state.squares)),a.a.createElement("td",null,this.renderSquare(7,this.state.squares)))),this.renderControl(this.state.isClockwise),a.a.createElement("h3",null,"A: ",this.state.countA),a.a.createElement("h3",null,"B: ",this.state.countB))}}]),s}(a.a.Component);var m=function(){return a.a.createElement(k,null)};i.a.render(a.a.createElement(m,null),document.getElementById("root"))},7:function(e,t,s){e.exports=s(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.c1ca2b53.chunk.js.map